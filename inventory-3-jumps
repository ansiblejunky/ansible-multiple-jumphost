[server]
lab.example.com

[server:vars]
ansible_user=vagrant
# Custom location of ssh config is supported with standard ssh connection plugin
ansible_ssh_common_args='-F ssh.cfg'
ansible_ssh_private_key_file=~/.ssh/vagrant_rsa

[network]
device.example.com ansible_host=127.0.0.1

[network:vars]
ansible_user=root
ansible_password=root
ansible_port=3080
#ansible_ssh_private_key_file=~/.ssh/vagrant_rsa

ansible_connection=ansible.netcommon.network_cli
ansible_network_os=cisco.ios.ios
# https://github.com/ansible/pylibssh
ansible_network_cli_ssh_type=libssh

# Define variables for multiple jump hosts 
jh_private_key = ~/.ssh/vagrant_rsa

# 3 jump hosts
#ansible_ssh_common_args= -oStrictHostKeyChecking=no -oUserKnownHostsFile=/dev/null -o ProxyCommand='ssh -i {{ jh_private_key }} -W %h:%p -oProxyCommand="ssh -i {{ jh_private_key }} -W lab.example.com:22 -oProxyCommand=\"ssh -i {{ jh_private_key }} -W jh2.example.com:22 vagrant@jh1.example.com\" vagrant@jh2.example.com" vagrant@lab.example.com'

ansible_ssh_common_args= -oStrictHostKeyChecking=no -oUserKnownHostsFile=/dev/null -o ProxyCommand='ssh -i $JH3_SSH_PRIVATE_KEY -W %h:%p -oProxyCommand="ssh -i $JH2_SSH_PRIVATE_KEY -W {{ jh3_ip }}:{{ jh3_ssh_port }} -oProxyCommand=\"ssh -i $JH1_SSH_PRIVATE_KEY -W {{ jh2_ip }}:{{ jh2_ssh_port }} -m hmac-sha1 -oStrictHostKeyChecking=no -oUserKnownHostsFile=/dev/null {{ jh1_ssh_user }}@{{ jh1_ip }}\" {{ jh2_ssh_user }}@{{ jh2_ip }}" {{jh3_ssh_user }}@{{ jh3_ip }}'

#jh1_ip = jh1.example.com
#jh1_ssh_port = 22
#jh1_ssh_user = vagrant
#
#jh2_ip = jh2.example.com
#jh2_ssh_port = 22
#jh2_ssh_user = vagrant
#
#jh3_ip = jh3.example.com
#jh3_ssh_port = 22
#jh3_ssh_user = vagrant

[all:vars]
ansible_python_interpreter=python3


